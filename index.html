<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Supernatural API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./style/style.css" />
</head>

<body class="bg-dark">
    <nav class="navbar navbar-expand-lg bg-dark-subtle" data-bs-theme="dark">
        <div class="px-5 container-fluid justify-content-center justify-content-md-between">
            <a class="navbar-brand d-flex gap-2 align-items-center" href="./index.html">
                <img src="./assets/logo.png" class="h-100" alt="Supernatural logo" />The Supernatural API
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link " aria-current="page" href="./docs.html">Docs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="container text-light d-flex align-items-center justify-content-center h-100">
        <div class="row w-100 g-5 align-items-center h-100 ">
            <div class="spinner-border text-danger d-none" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div class="col-lg-6 col-md-12 text-center">
                <h1 class="display-5 text-center mb-4">The <span class="display-1 fw-bold text-danger"> Supernatural
                    </span>Quotes API </h1>
                <a class="btn btn-danger rounded-pill" href="./docs.html">Read the docs <i
                        class="bi bi-arrow-right"></i></a>
            </div>
            <div class="col-lg-6 col-md-12">
                <pre>
fetch("https://supernatural-quotes-api.cyclic.app/<span class="text-danger">quotes/random</span>")
    .then(res => res.json())
    .then(data => console.log(data))
                </pre>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script>

        window.onload = async () => {
            writeUrl()
        }
        const toggleLoading = () => {
            // document.querySelector(".spinner-border").classList.toggle("d-none")
        }
        function sleep(ms) {
            return new Promise((r) => setTimeout(r, ms));
        }
        async function typewriteAdd(txt, el) {
            const times = [100, 154, 113, 167, 200, 184]
            el.innerText = "";
            for (const char of txt) {
                el.textContent += char;
                await sleep(times[Math.floor(Math.random() * times.length)] || 100);
            }
        }

        async function typewriteRemove(txt, el) {
            for (const char of txt) {
                el.textContent = el.textContent.slice(0, -1);
                await sleep(100);
            }
        }
        const activateTab = (ev, id) => {
            document.querySelectorAll(".nav-tabs .nav-link").forEach(el => el.classList.remove("active"))
            ev.target.parentElement.querySelectorAll(".tab-pane").forEach(el => el.classList.remove("active", "show"))
            document.querySelector("#" + id).classList.add("active", "show")
            document.querySelector("#" + id + "-tab").classList.add("active")
        }
        const writeUrl = async (phrase) => {
            const endpoints = ["quotes/random", "quotes/all", "characters/all", "characters/:id"]
            const tail = document.querySelector("pre span")
            let i = 0
            while (true) {
                await typewriteAdd(endpoints[i], tail)
                await sleep(1000)
                await typewriteRemove(endpoints[i], tail)
                await sleep(1000)
                i = Math.floor(Math.random() * endpoints.length)
            }

        }

        const generateQuote = async () => {

            const res = await fetch("https://supernatural-quotes-api.cyclic.app/quotes/random")
            const quote = await res.json()
            const kps = 10
            const phrase = document.querySelector("#result .card-text")

            for (const key in quote) {
                if (Object.hasOwnProperty.call(quote, key)) {
                    let y = 0
                    console.log(y);
                    const htmlToAdd = `<strong> ${quote[key].character}: </strong> ${quote[key].quote}`



                }
            }


        }
        const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
        const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
    </script>
</body>

</html>